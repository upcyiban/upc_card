<template>
<div id="music" @click="playstop">
  <svg ref="player" t="1534087048391" class="icon" style="" viewBox="0 0 1024 1024" preserveAspectRatio="xMinYMin meet" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2929" xmlns:xlink="http://www.w3.org/1999/xlink">
    <path d="M513.408 13.312c-275.584 0-498.944 223.36-498.944 498.944 0 77.312 17.536 150.272 48.96 215.616 0 0.192 0 0.192 0 0.192 0 0.128 0 0.128 0 0.128 0.128 0.192 0.256 0.448 0.32 0.768C63.936 728.832 63.936 728.832 64 728.832c3.392 4.864 13.248 3.968 22.336-0.64 9.408-4.864 13.76-13.696 11.008-19.456-28.16-59.648-43.968-126.144-43.968-196.48 0-254.08 205.952-460.032 460.032-460.032 254.08 0 460.032 206.016 460.032 460.032 0 254.016-205.952 460.096-460.032 460.096-81.152 0-157.248-21.12-223.424-57.984-0.128-0.128-0.192-0.32-0.384-0.32-5.184-4.032-14.592-0.32-21.12 8.192-6.4 8.256-6.144 19.328-1.344 23.552 0 0.128-0.128 0.128-0.128 0.32 72.704 41.344 156.8 65.152 246.464 65.152 275.52 0 498.88-223.36 498.88-498.944C1012.288 236.736 788.928 13.312 513.408 13.312z" p-id="2930"></path>
    <path d="M156.544 833.472m-26.496 0a0.414 0.414 0 1 0 52.992 0 0.414 0.414 0 1 0-52.992 0Z" p-id="2931"></path><path d="M513.472 512.32m-69.44 0a1.085 1.085 0 1 0 138.88 0 1.085 1.085 0 1 0-138.88 0Z" p-id="2932"></path>
    <path d="M513.344 868.992c197.056 0 356.736-159.68 356.736-356.672 0-196.992-159.68-356.736-356.736-356.736-196.928 0-356.608 159.744-356.608 356.736C156.736 709.312 316.48 868.992 513.344 868.992zM513.344 195.456c175.104 0 316.992 141.888 316.992 316.864 0 175.04-141.888 316.928-316.992 316.928-174.976 0-316.864-141.888-316.864-316.928C196.544 337.344 338.432 195.456 513.344 195.456z" p-id="2933"></path>
    <path d="M768 516.16l0.128 0c0.192 3.52 9.216 6.08 20.16 5.696 11.072-0.384 19.84-3.648 19.712-7.232 0 0 0 0 0-0.064-17.792-134.272-105.664-250.176-243.2-292.224l0 0.064C559.936 221.952 554.944 230.592 553.792 241.728 552.704 252.736 555.584 262.08 560.32 262.912 673.984 303.168 751.616 402.688 768 516.16z" p-id="2934"></path>
    <path d="M593.664 300.48 593.536 300.608c-0.128 0-0.128-0.064-0.128-0.128C587.968 297.472 579.008 303.232 573.568 313.344c-5.376 10.048-5.376 20.608 0.192 23.68 0.128 0.064 0.384 0.064 0.512 0.192 54.016 35.776 94.976 86.784 118.656 145.472 0 0.064 0 0.128 0 0.128 0.128 0.064 0.128 0.064 0.128 0.128 0.128 0.384 0.384 0.704 0.512 1.088l0.128-0.064c3.392 4.608 12.928 5.312 22.528 1.216 10.304-4.416 16.64-12.736 14.208-18.496-0.128-0.32-0.384-0.512-0.512-0.832C702.912 398.272 656.448 340.16 593.664 300.48z" p-id="2935"></path>
    <path d="M456.32 796.032 456.32 796.032c3.584 0.896 8.512-6.976 11.264-17.664 2.688-10.56 2.112-20.032-1.344-20.864l0.064-0.128c-107.328-40.064-188.16-137.024-203.52-256.576 0.192-4.864-8.256-9.664-19.264-10.816C232.256 488.64 222.784 491.648 222.272 496.512L222.208 496.512C234.176 639.808 328.896 750.208 456.32 796.032z" p-id="2936"></path>
    <path d="M425.28 709.312c0.192 0.256 0.384 0.512 0.64 0.64 5.12 3.84 14.592-0.768 21.056-9.92 6.08-8.512 7.424-17.92 3.584-22.208l0.128-0.128c-0.32-0.256-0.64-0.512-1.024-0.64-0.064-0.128-0.064-0.128-0.128-0.128 0 0-0.064 0-0.064-0.192C397.12 641.28 355.904 590.464 332.288 529.984c-0.064-0.192 0-0.384-0.064-0.576-1.728-6.016-12.032-8.256-23.04-5.056C298.176 527.552 290.688 535.04 292.48 541.056c0 0.064 0.064 0.128 0.064 0.192L292.416 541.312C317.824 611.072 364.864 668.736 425.28 709.312z" p-id="2937"></path>
  </svg>
  <audio :src="bgm" ref="audio" loop></audio>
</div>
</template>

<script>
import bgm from '@/assets/bgm.mp3'
export default {
  name: 'music',
  data () {
    return {
      bgm,
      playing: true,
      anime: {}
    }
  },
  methods: {
    playstop () {
      console.log(this.anime)
      this.playing = !this.playing
      if (this.playing) this.stop()
      else this.play()
    },
    play () {
      this.$refs.audio.play()
      this.anime.play()
    },
    stop () {
      this.$refs.audio.pause()
      this.anime.pause()
    }
  },
  mounted () {
    this.anime = this.$anime({
      targets: this.$refs.player,
      rotate: '359deg',
      loop: true,
      duration: 5000,
      easing: 'linear'
    })
    this.play()
  }
}
</script>

<style lang="stylus" scoped>
#music
  height 48px
  width 48px
  position fixed
  top 16px
  right 16px
  z-index 1000
</style>
